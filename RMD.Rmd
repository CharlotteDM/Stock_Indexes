---
title: "Stock_Indexes"
author: "Karolina DM"
date: '2022-06-27'
output: html_document
---

---
title: "Stock Indexes"
author: "Karolina DM"
output: html_document
---

```{r setup, include=FALSE}
library("knitr")
library("tidyverse")
library("plotly")
library("htmlwidgets")
source("stock_indexes_analysis.R")
```


## This is a report about stock indexes in the world markets since 24 February 2020 to 17 June 2022 (data collected since the outbreak of the pandemic in Europe until now). For this report I choose selected:

- __Dow Jones Industrial Average__,
- __FTSE China A50__,
- __FTSE 100__,
- __NASDAQ__,
- __NIKKEI 225__,
- __S&P 500__,
- __EURO STOCK 50__,
- __VIX__

## All of data orgin from the website: www.wsj.com/market-data

## For analyzis I performed among others: time series models, multiple regression, cross validation.This methods allows to predict values of stock indexes in the future. 


***

__Dow Jones Industrial Average__  is:

> "a stock index that tracks 30 of the largest U.S. companies. Created in 1896, it is one of the oldest stock indexes, and its performance is widely considered to be a useful indicator of the health of the entire U.S. stock market".

(source of definition: https://www.fool.com/investing/stock-market/indexes/dow-jones/;

source of data: https://www.wsj.com/market-data/quotes/index/DJIA/historical-prices )

__FTSE China A50__  is:

> "an index for 50 stocks of companies with the highest market capitalisation listed on the Shanghai and Shenzhen stock exchanges".

(source of definition: https://www.avatrade.com/trading-info/financial-instruments-index/indices/china-a50;

source of data: https://www.wsj.com/market-data/quotes/index/XX/XIN9/historical-prices )

__FTSE 100__ is:

> "an index composed of the 100 largest (by market capitalisation ) companies listed on the London Stock Exchange (LSE)".

(source of definition: https://www.ii.co.uk/knowledge-centre/quick-guides/before-you-start/what-is-the-ftse-100;

source of data: https://www.wsj.com/market-data/quotes/index/UK/UKX/historical-prices)

__NASDAQ__ is:

> "The first electronic stock market listing over 5000 companies. The Nasdaq stock market comprises two separate markets, namely the Nasdaq National Market, which trades large, active securities and the Nasdaq Smallcap Market that trades emerging growth companies".

(source of definition: https://www.nasdaq.com/glossary/n/nasdaq-stock-market;

source of data: https://www.wsj.com/market-data/quotes/index/NASDAQ/historical-prices)

__NIKKEI 225__ is:

> "the most recognized Japanese stock market index. It comprises Japan’s top 225 companies that are listed on the Tokyo Stock Exchange. The Nikkei Index is considered an important measure of the Japanese stock market and the performance of the Japanese economy."

(source of definition: https://corporatefinanceinstitute.com/resources/knowledge/trading-investing/nikkei-index/;

source of data: https://www.wsj.com/market-data/quotes/index/JP/NIK/historical-prices)

__S&P 500__ is:

> "a market-capitalization-weighted index of 500 leading publicly traded companies in the U.S. It is not an exact list of the top 500 U.S. companies by market cap because there are other criteria that the index includes."

(source of definition: https://www.investopedia.com/terms/s/sp500.asp;

source of data: https://www.wsj.com/market-data/quotes/index/SPX/historical-prices)

__EURO STOCK 50__ :

> "represents the performance of the 50 largest companies among the 20 supersectors in terms of free-float market cap in Eurozone countries. The index has a fixed number of components and is part of the STOXX blue-chip index family. The index captures about 60% of the free-float market cap of the EURO STOXX Total Market Index (TMI)"

(source of definition: https://www.stoxx.com/document/Bookmarks/CurrentFactsheets/SX5GT.pdf;

source of data: https://www.wsj.com/market-data/quotes/index/XX/SX5E/historical-pricess)

__VIX__ is:

> "based on the prices of options on the S&P 500 Index and is calculated by aggregating weighted prices of the index’s call and put options over a wide range of strike prices."

(source of definition: https://corporatefinanceinstitute.com/resources/knowledge/trading-investing/vix-volatility-index/;

source of data: https://www.wsj.com/market-data/quotes/index/VIX/historical-prices)


This plot below presents all indexes:

```{r, dev='png', out.width="130%", echo=FALSE, warning = FALSE}
all_ind_plotly
```


A time series is an ordered set of measurements taken at regular intervals, an ideal example of which is the stock exchange indexes. 
Time series plot for EURO STOCK 50 is as follows:

```{r, dev='png', out.width="130%", echo=FALSE, warning = FALSE}
plotSX5Euro
```

In the chart, we see both negative and positive trends.

Then it was done time series evaluation using autocovariance (acf function) and partial autocovariance (pacf function). Autocovariance presents the correlation of the time series with itself shifted by a certain time interval. In turn, partial autovariance is the size of the correlation between the time series and its shift (Lander, 2018, s.404).

This plot shows result of autocovariance:

``` {r, echo=FALSE,  out.width="130%", error=FALSE, warning = FALSE}
acf(tsSX5Euro) 
```

This plot shows result of partial autocovariance:

``` {r, echo=FALSE, error=FALSE, warning = FALSE}
acf(tsSX5Euro) 
```

The number of differentiations was determined using the ndiffs function and amounted to 1. Below is the chart with the optimal number of differentiations for the Euro Stock 50 Index variable.

``` {r, echo=FALSE, error=FALSE, warning = FALSE}
plot(diff(tsSX5Euro, 1))
```

The ARMA function showed that the optimal model for the discussed time model will be ARMA (3, 1, 3).
The ACF and PACF for the ideal model show the white noise pattern:

``` {r, echo=FALSE, error=FALSE, warning = FALSE}
acf(best_tsSX5Euro$residuals)
```

``` {r, echo=FALSE, error=FALSE, warning = FALSE}
pacf(best_tsSX5Euro$residuals)
```

This is the result of building ARIMA model(3,1,3):

``` {r, echo=FALSE, error=FALSE, warning = FALSE, tidy = TRUE}
summary(fit_tsSX5Euro)
```



***

In summary, we see fertility rate and birth rate falling over the years, while death rate and life expectancy are increasing. It is very important to follow demographic changes in countries and individual parts of the world so that governments can react early and shape their policies on public health, pro-family policies, etc.It is impossible to track demographic changes in isolation from the data on armed conflicts and the related migration of people, climate change, and the pandemic situation. 

***
Biography:
* Lander, J. P. (2018). R dla każdego. Zaawansowane analizy i grafika statystyczna. Warszawa: APN Promise.

Web sites:

* Wawrowski, R. Metody przetwarzania i analizy danych w R. Pobrane z: http://www.wawrowski.edu.pl/adr/index.html (29.06.2022).
* https://blogs.oracle.com/ai-and-datascience/post/performing-a-time-series-analysis-on-the-sampp-500-stock-index